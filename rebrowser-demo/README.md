# Rebrowser-Puppeteer åæ£€æµ‹æŠ€æœ¯æ¼”ç¤º

è¿™æ˜¯ä¸€ä¸ªå®Œæ•´çš„Rebrowser-Puppeteeråæ£€æµ‹æŠ€æœ¯æ¼”ç¤ºé¡¹ç›®ï¼Œå±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨2025å¹´æœ€æ–°çš„åæœºå™¨äººæ£€æµ‹æŠ€æœ¯ã€‚

## ğŸ¯ é¡¹ç›®ç‰¹è‰²

- âœ… **æœ€æ–°æŠ€æœ¯**ï¼šåŸºäº2025å¹´æœ€æ–°çš„Rebrowser-PuppeteeræŠ€æœ¯
- âœ… **å®Œæ•´ç¤ºä¾‹**ï¼šä»åŸºç¡€åˆ°é«˜çº§çš„å®Œæ•´æ¼”ç¤º
- âœ… **å®æˆ˜æµ‹è¯•**ï¼šé’ˆå¯¹çœŸå®åæ£€æµ‹ç½‘ç«™çš„æµ‹è¯•
- âœ… **è¯¦ç»†æ–‡æ¡£**ï¼šå®Œæ•´çš„ä½¿ç”¨æŒ‡å—å’Œæœ€ä½³å®è·µ

## ğŸ› ï¸ æŠ€æœ¯åŸç†

Rebrowser-Puppeteeré€šè¿‡ä»¥ä¸‹æŠ€æœ¯å®ç°åæ£€æµ‹ï¼š

1. **åº•å±‚è¡¥ä¸**ï¼šå¯¹Puppeteerè¿›è¡Œåº•å±‚ä¿®æ”¹ï¼Œç§»é™¤è‡ªåŠ¨åŒ–æ ‡è®°
2. **APIå…¼å®¹**ï¼šä¿æŒä¸åŸç”ŸPuppeteerå®Œå…¨å…¼å®¹çš„API
3. **æŒ‡çº¹ä¼ªé€ **ï¼šè‡ªåŠ¨å¤„ç†å¸¸è§çš„æµè§ˆå™¨æŒ‡çº¹æ£€æµ‹
4. **è¡Œä¸ºæ¨¡æ‹Ÿ**ï¼šæ”¯æŒçœŸå®ç”¨æˆ·è¡Œä¸ºæ¨¡æ‹Ÿ

## ğŸ“¦ å®‰è£…ä¾èµ–

```bash
cd rebrowser-demo
npm install
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. åŸºç¡€ç¤ºä¾‹
æ¼”ç¤ºRebrowser-Puppeteerçš„åŸºæœ¬ä½¿ç”¨æ–¹æ³•ï¼š

```bash
npm run basic
```

**åŠŸèƒ½ç‰¹ç‚¹**ï¼š
- ä½¿ç”¨Rebrowser-Puppeteeræ›¿ä»£åŸç”ŸPuppeteer
- è®¿é—®å¸¸è§çš„æœºå™¨äººæ£€æµ‹ç½‘ç«™
- è‡ªåŠ¨æ£€æµ‹å’ŒæŠ¥å‘Šæ£€æµ‹ç»“æœ
- ç”Ÿæˆæµ‹è¯•æˆªå›¾

### 2. é«˜çº§ç¤ºä¾‹
å±•ç¤ºå®Œæ•´çš„åæ£€æµ‹æŠ€æœ¯æ ˆï¼š

```bash
npm run advanced
```

**åŠŸèƒ½ç‰¹ç‚¹**ï¼š
- æ³¨å…¥è‡ªå®šä¹‰åæ£€æµ‹è„šæœ¬
- æ¨¡æ‹ŸçœŸå®ç”¨æˆ·è¡Œä¸ºï¼ˆé¼ æ ‡ç§»åŠ¨ã€æ»šåŠ¨ã€æ‰“å­—ï¼‰
- éšæœºUser-Agentå’Œè¯·æ±‚å¤´
- é«˜çº§æŒ‡çº¹ä¼ªé€ æŠ€æœ¯

### 3. æ£€æµ‹æµ‹è¯•
ä¸“é—¨æµ‹è¯•å„ç§åæœºå™¨äººæ£€æµ‹ç½‘ç«™ï¼š

```bash
npm run test-detection
```

**æµ‹è¯•ç½‘ç«™**ï¼š
- BrowserLeaks JavaScriptæ£€æµ‹
- Sannysoftæœºå™¨äººæ£€æµ‹
- IntroHackeræ— å¤´æµè§ˆå™¨æ£€æµ‹

### 4. Cloudflareæµ‹è¯•
ä¸“é—¨é’ˆå¯¹Cloudflareåæœºå™¨äººä¿æŠ¤ï¼š

```bash
npm run cloudflare-test
```

**åŠŸèƒ½ç‰¹ç‚¹**ï¼š
- è‡ªåŠ¨ç­‰å¾…CloudflareæŒ‘æˆ˜å®Œæˆ
- å¤šæ¬¡é‡è¯•æœºåˆ¶
- è¯¦ç»†çš„çŠ¶æ€åˆ†æ
- æˆåŠŸç‡ç»Ÿè®¡

## ğŸ“Š æµ‹è¯•ç»“æœç¤ºä¾‹

```
ğŸ“Š æ£€æµ‹æµ‹è¯•æŠ¥å‘Š
==================================================
æ€»æµ‹è¯•æ•°: 3
æˆåŠŸè®¿é—®: 3
æœªè¢«æ£€æµ‹: 2
æ£€æµ‹ç‡: 33.3%
æˆåŠŸç‡: 66.7%

è¯¦ç»†ç»“æœ:

1. BrowserLeaks JavaScript
   URL: https://browserleaks.com/javascript
   è®¿é—®: âœ…
   æ£€æµ‹: ğŸŸ¢ æœªæ£€æµ‹
   è¯¦æƒ…:
     - webdriver: undefined
     - è‡ªåŠ¨åŒ–æ£€æµ‹: false
     - pluginsæ•°é‡: 5

2. Sannysoft Bot Detection
   URL: https://bot.sannysoft.com/
   è®¿é—®: âœ…
   æ£€æµ‹: ğŸŸ¢ æœªæ£€æµ‹
   è¯¦æƒ…:
     - webdriver: undefined
     - è‡ªåŠ¨åŒ–æ£€æµ‹: false
     - pluginsæ•°é‡: 5
```

## ğŸ”§ é…ç½®è¯´æ˜

### åŸºç¡€é…ç½®
```javascript
import puppeteer from 'rebrowser-puppeteer';

const browser = await puppeteer.launch({
    headless: false,  // æ¨èä½¿ç”¨éæ— å¤´æ¨¡å¼
    defaultViewport: null,
    args: [
        '--start-maximized',
        '--no-sandbox',
        '--disable-setuid-sandbox',
        // æ›´å¤šåæ£€æµ‹å‚æ•°...
    ]
});
```

### é«˜çº§é…ç½®
```javascript
// è®¾ç½®User-Agent
await page.setUserAgent('Mozilla/5.0 (Windows NT 10.0; Win64; x64) ...');

// è®¾ç½®è§†å£
await page.setViewport({ width: 1366, height: 768 });

// è®¾ç½®é¢å¤–è¯·æ±‚å¤´
await page.setExtraHTTPHeaders({
    'Accept-Language': 'en-US,en;q=0.9',
    'Accept-Encoding': 'gzip, deflate, br'
});
```

## ğŸ­ è¡Œä¸ºæ¨¡æ‹ŸæŠ€æœ¯

### é¼ æ ‡ç§»åŠ¨æ¨¡æ‹Ÿ
```javascript
async function humanMouseMove(page, targetX, targetY) {
    const steps = Math.floor(Math.random() * 10) + 10;
    // åˆ†æ­¥ç§»åŠ¨åˆ°ç›®æ ‡ä½ç½®ï¼Œæ·»åŠ éšæœºåç§»
    for (let i = 0; i < steps; i++) {
        const x = currentX + deltaX * i + (Math.random() - 0.5) * 2;
        const y = currentY + deltaY * i + (Math.random() - 0.5) * 2;
        await page.mouse.move(x, y);
        await randomDelay(10, 50);
    }
}
```

### æ»šåŠ¨è¡Œä¸ºæ¨¡æ‹Ÿ
```javascript
async function humanScroll(page) {
    const scrollSteps = Math.floor(Math.random() * 5) + 3;
    for (let i = 0; i < scrollSteps; i++) {
        const scrollY = Math.floor(Math.random() * 300) + 100;
        await page.evaluate((y) => window.scrollBy(0, y), scrollY);
        await randomDelay(500, 1500);
    }
}
```

## ğŸ›¡ï¸ åæ£€æµ‹è„šæœ¬

é¡¹ç›®åŒ…å«å®Œæ•´çš„åæ£€æµ‹è„šæœ¬ï¼Œè‡ªåŠ¨å¤„ç†ï¼š

- `navigator.webdriver` å±æ€§éšè—
- `window.chrome` å¯¹è±¡ä¼ªé€ 
- `navigator.plugins` æ•°é‡æ¨¡æ‹Ÿ
- `navigator.languages` è®¾ç½®
- CanvasæŒ‡çº¹ä¼ªé€ 
- æƒé™APIæ¨¡æ‹Ÿ

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–

### èµ„æºä¼˜åŒ–
```javascript
// ç¦ç”¨å›¾ç‰‡åŠ è½½ï¼ˆå¯é€‰ï¼‰
await page.setRequestInterception(true);
page.on('request', (req) => {
    if(req.resourceType() == 'image'){
        req.abort();
    } else {
        req.continue();
    }
});
```

### å†…å­˜ç®¡ç†
```javascript
// åŠæ—¶å…³é—­é¡µé¢
await page.close();

// æ¸…ç†æµè§ˆå™¨å®ä¾‹
await browser.close();
```

## âš ï¸ æ³¨æ„äº‹é¡¹

### æŠ€æœ¯é™åˆ¶
- Rebrowser-Puppeteerä»ç„¶åŸºäºCDPï¼Œå¯èƒ½è¢«é«˜çº§æ£€æµ‹è¯†åˆ«
- æŸäº›ç½‘ç«™å¯èƒ½ä½¿ç”¨æœºå™¨å­¦ä¹ æ£€æµ‹ï¼Œéœ€è¦æ›´å¤æ‚çš„è¡Œä¸ºæ¨¡æ‹Ÿ
- æ£€æµ‹æŠ€æœ¯åœ¨ä¸æ–­è¿›æ­¥ï¼Œéœ€è¦å®šæœŸæ›´æ–°åæ£€æµ‹ç­–ç•¥

### åˆè§„ä½¿ç”¨
- éµå®ˆç½‘ç«™çš„robots.txtå’Œä½¿ç”¨æ¡æ¬¾
- æ§åˆ¶è¯·æ±‚é¢‘ç‡ï¼Œé¿å…å¯¹æœåŠ¡å™¨é€ æˆå‹åŠ›
- ç¡®ä¿æ•°æ®ä½¿ç”¨ç¬¦åˆç›¸å…³æ³•å¾‹æ³•è§„

### æœ€ä½³å®è·µ
- ä½¿ç”¨é«˜è´¨é‡çš„ä½å®…ä»£ç†
- å®ç°éšæœºå»¶è¿Ÿå’Œè¡Œä¸ºæ¨¡æ‹Ÿ
- å®šæœŸæ›´æ–°User-Agentå’Œæµè§ˆå™¨ç‰ˆæœ¬
- ç›‘æ§æ£€æµ‹ç‡å¹¶åŠæ—¶è°ƒæ•´ç­–ç•¥

## ğŸ”— ç›¸å…³èµ„æº

- [Rebrowser-Puppeteer GitHub](https://github.com/rebrowser/rebrowser-puppeteer)
- [Puppeteerå®˜æ–¹æ–‡æ¡£](https://pptr.dev/)
- [åæ£€æµ‹æŠ€æœ¯ç ”ç©¶æŠ¥å‘Š](../research-report.md)

## ğŸ“ æ›´æ–°æ—¥å¿—

### v1.0.0 (2025-06-19)
- åˆå§‹ç‰ˆæœ¬å‘å¸ƒ
- å®Œæ•´çš„Rebrowser-Puppeteeræ¼”ç¤º
- åŸºç¡€å’Œé«˜çº§ç¤ºä¾‹
- æ£€æµ‹æµ‹è¯•å’ŒCloudflareæµ‹è¯•
- è¯¦ç»†çš„ä½¿ç”¨æ–‡æ¡£

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤Issueå’ŒPull Requestæ¥æ”¹è¿›è¿™ä¸ªé¡¹ç›®ï¼

## ğŸ“„ è®¸å¯è¯

MIT License - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶
